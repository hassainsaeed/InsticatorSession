<html xmlns="http://www.w3.org/1999/html">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Insticator Session - Test Page</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <!-- loading the Insticator SDK -->
  <script src="http://localhost:8000/src/InsticatorSessionSDK.js"></script>

  <script>
    window.sessionObject = getSession()
  </script>
</head>
<style type="text/css">
  body {
    padding-top: 70px;
  }
</style>

<body>
  <nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Insticator Session - Sample Webpage</a>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-10">
        <div class="row">
          <div class="col-12">
            <h2>Session Object for the Current Visiting User</h2>
            <div id='sessionObjectBox'>
              <pre>
              <code>
                <script>
                  document.write("session = {\n" +  "\t'id': " + window.sessionObject.id +
                        "\n" + "\t'expiration': " + window.sessionObject.expiration +
                        "\n" + "\t'referrer': " + window.sessionObject.referrer +
                        "\n" + "\t'campaign': " + window.sessionObject.campaign + "\n" + "}")
                </script>
              </code>
            </pre>
            </div>

            <br>
            <br>
            <h4>Click the button below to generate or extend a session</h4>
            <button id="getSessionButton">getSession()</button>
            <script>
              document.getElementById("getSessionButton").onclick = function() {
                window.sessionObject = getSession()
                document.getElementById("sessionObjectBox").innerHTML =
                  "<pre><code>" +
                  "session = {\n" + "\t'id': " + window.sessionObject.id +
                  "\n" + "\t'expiration': " + window.sessionObject.expiration +
                  "\n" + "\t'referrer': " + window.sessionObject.referrer +
                  "\n" + "\t'campaign': " + window.sessionObject.campaign + "\n" + "}" + "</code></pre>"
              }
            </script>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <br>
            <br>
            <br>
            <h4>Click the button below to randomly generate a new campaign</h4>
            <button id="generateRandomCampaign">Generate a Random Campaign</button>
            <script>
              document.getElementById("generateRandomCampaign").onclick = function() {
                arrayOfRandomCampaigns = ["horses_in_the_back", "horse_tack_is_attached", "hat_is_matte_black", "boots_thats_black_to_match", "riding_on_a_horse", "you_can_whip_your_porsche", "old_town_road"]
                randomCampaign = arrayOfRandomCampaigns[(Math.floor(Math.random() * arrayOfRandomCampaigns.length))];
                window.location.href = "?campaign=" + randomCampaign
              }
            </script>
          </div>
        </div>

</body>

</html>
